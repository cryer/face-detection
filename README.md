# face-detection
      人脸领域有几个研究方向，分别是人脸检测，人脸校验，人脸验证和人脸识别。
      人脸检测主要是从图像中检测出人脸，用矩形框选中人脸。
      人脸校验主要是标记处人脸的特征点，比如眼睛，嘴角，鼻子，脸的轮廓等等。
      人脸验证就是比较两张脸是不是一个人。
      人脸识别本质上就是多次人脸验证，将人脸与库里的脸一一比对，找出最相近最匹配的脸。
    而我这次主要讨论的是人脸检测，这其实也是人脸识别的一部分，因为只有检测出人脸，接下来才能进行识别。
## 人脸检测
    首先讨论传统机器学习的人脸检测方法，参考zouxy09的博客。
### HOG特征
     方向梯度直方图（Histogram of Oriented Gradient, HOG）特征是一种在计算机视觉和图像处理中用来进行物体检测的特征描述子。
     它通过计算和统计图像局部区域的梯度方向直方图来构成特征。
     Hog特征结合SVM分类器已经被广泛应用于图像识别中，尤其在行人检测中获得了极大的成功。
#### 主要思想
    在一副图像中，局部目标的表象和形状（appearance and shape）能够被梯度或边缘的方向密度分布很好地描述。
    （本质：梯度的统计信息，而梯度主要存在于边缘的地方）。
#### 实现方法
    先将图像分成小的连通区域，我们把它叫细胞单元。然后采集细胞单元中各像素点的梯度的或边缘的方向直方图。
    最后把这些直方图组合起来就可以构成特征描述器。
#### 提高性能
    把这些局部直方图在图像的更大的范围内（我们把它叫区间或block）进行对比度归一化（contrast-normalized），
    所采用的方法是：先计算各直方图在这个区间（block）中的密度，然后根据这个密度对区间中的各个细胞单元做归一化。
    通过这个归一化后，能对光照变化和阴影获得更好的效果。
#### 优点
    与其他的特征描述方法相比，HOG有很多优点。首先，由于HOG是在图像的局部方格单元上操作，
    所以它对图像几何的和光学的形变都能保持很好的不变性，这两种形变只会出现在更大的空间领域上。
    其次，在粗的空域抽样、精细的方向抽样以及较强的局部光学归一化等条件下，只要行人大体上能够保持直立的姿势，
    可以容许行人有一些细微的肢体动作，这些细微的动作可以被忽略而不影响检测效果。
    因此HOG特征是特别适合于做图像中的人体检测的。
#### 具体
    这些都是虚的，下面是干货：
    HOG特征提取方法就是将一个image（你要检测的目标或者扫描窗口）：
    1）灰度化（将图像看做一个x,y,z（灰度）的三维图像）；
    2）采用Gamma校正法对输入图像进行颜色空间的标准化（归一化）；
        目的是调节图像的对比度，降低图像局部的阴影和光照变化所造成的影响，同时可以抑制噪音的干扰；
    3）计算图像每个像素的梯度（包括大小和方向）；主要是为了捕获轮廓信息，同时进一步弱化光照的干扰。
    4）将图像划分成小cells（例如6*6像素/cell）；
    5）统计每个cell的梯度直方图（不同梯度的个数），即可形成每个cell的descriptor；
    6）将每几个cell组成一个block（例如3*3个cell/block），一个block内所有cell的特征descriptor串联起来便得到该block的HOG特征descriptor。
    7）将图像image内的所有block的HOG特征descriptor串联起来就可以得到该image（你要检测的目标）的HOG特征descriptor了。
       这个就是最终的可供分类使用的特征向量了。
可以借助下面这张图来理解：

![](https://github.com/cryer/face-detection/raw/master/image/I3}1~E1EJITR}DDU(1_9CUW.png)
